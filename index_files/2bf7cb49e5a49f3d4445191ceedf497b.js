Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var products=window.rs.web.digitalData.products;var stringArray=[];for(var i=0;i<products.length;i++)stringArray.push(products[i].productId.replace("-",""));var productString=stringArray.join(",");return productString}catch(e){return"error"}},transform:function(val){return val?
val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Product IDs",collection:"E-Commerce",source:"Manage",priv:"false"},{id:"49502"})},49502)},-1,-1);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.on("click",".cartButton",function(){Bootstrapper.ensEvent.trigger("AddToCart - Product Page",this)},true)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return window.rs?window.rs.web.digitalData.page_creation_date:""}catch(e){return"error"}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Page Creation Date",collection:"Content Pages",source:"Manage",priv:"false"},
{id:"49383"})},49383)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var ddConditions={"not":[null],"caseInsensitive":["ignore case"],"compareTo":[""],"requiredData":["25568"],"comparators":["exists"]};Bootstrapper.data.resolve(ddConditions.requiredData,function(){ddConditions.values=Array.prototype.slice.call(arguments,0);var Bootstrapper=window["Bootstrapper"];if(Bootstrapper.data.checkConditions(ddConditions))Bootstrapper.ensEvent.poll("Manage.Mobile.Test_ProductsArray",["test"],
true,true)})},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var ddConditions={"not":[null],"caseInsensitive":["ignore case"],"compareTo":[""],"requiredData":["49739"],"comparators":["exists"]};Bootstrapper.data.resolve(ddConditions.requiredData,function(){ddConditions.values=Array.prototype.slice.call(arguments,0);var Bootstrapper=window["Bootstrapper"];if(Bootstrapper.data.checkConditions(ddConditions))Bootstrapper.ensEvent.poll("Manage.All Pages.EventKey",["Events array - Event added"],
false,true)})},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof window.rs.web.digitalData.events!="undefined"){var eventsArr=window.rs.web.digitalData.events;var i=eventsArr.length-1;return eventsArr[i].eventKey}else return""}catch(e){return"error"}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"EventKey",
collection:"All Pages",source:"Manage",priv:"false"},{id:"49739"})},49739)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return window.rs?window.rs.web.digitalData.page_modification_date:""}catch(e){return"error"}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Page Modification Date",collection:"Content Pages",source:"Manage",priv:"false"},
{id:"49386"})},49386)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var page=window.rs?window.rs.web.digitalData.page_type:"";var product_id=window.rs?window.rs.web.digitalData.product_page_id:"";if(page&&page.match("product")){if(!product_id.match(/^250/)){product_id=product_id.replace("-","");var product_zero_pad="0"+product_id.match(/\d+/)[0];
product_id=product_id.replace(/\d+/,product_zero_pad.slice(-7))}return product_id}}catch(e){return"error"}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"ProductID - Bloomreach",collection:"Product Page",source:"Manage",priv:"false"},{id:"49485"})},49485)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var style=document.createElement("style");style.type="text/css";var css=decodeURIComponent(".recContainer%7Bborder-top%3A%20dotted%201px%20%23ccc%3Bmargin-top%3A%2030px%3B%7D.at-table%7Bdisplay%3Atable%3B%7D.at-table-row%7Bdisplay%3Atable-row%3B%20width%3Aauto%3B%20clear%3Aboth%3B%20padding%3A10px%3B%7D.at-table-column%7Bfloat%3Aleft%3B%20display%3Atable-column%3B%20padding%3A10px%3B%20max-width%3A%20300px%3B%20word-wrap%3A%20break-word%3B%7D.at-thumbnail%7Bcursor%3Apointer%3B%20float%3A%20left%3B%20margin-right%3A%2015px%3B%20height%3A%2050px%3B%20width%3A%2060px%3B%20background-repeat%3A%20no-repeat%3B%20background-position%3A%20top%20center%3B%20background-size%3A%20contain%3B%20box-sizing%3A%20border-box%3B%7D.at-light%7Bfont-weight%3A%20lighter%3B%20margin-top%3A%20-10px%3B%20size%3A%2010em%3B%7D.at-table-column%7Bwidth%3A%20230px%3B%7D.at-left-c%2C.at-right-c%7Bposition%3A%20relative%3B%20float%3A%20left%3B%20height%3A%20100%25%3B%7D.at-left-c%7Bwidth%3A%2030%25%3B%20margin-right%3A%205%25%3Bheight%3A85px%3B%7D.at-left-c%20img%7Bcursor%3A%20pointer%3B%7D.at-right-c%7Bwidth%3A%2065%25%3B%20font-size%3A%2011px%20!important%3B%7D.productTab%7Bcolor%3A%20%23000%3B%20padding%3A%205px%205px%205px%200%3B%20font-size%3A%2016px%3B%20line-height%3A%2040px%3B%20font-weight%3A%20bold%3B%7D.linkedPrice%7Bfloat%3A%20left%3B%20margin-top%3A%205px%3B%20font-size%3A%2016px%3B%20font-weight%3A%20bold%3B%7D");
if(style.styleSheet)style.styleSheet.cssText=css;else style.appendChild(document.createTextNode(css));var script=document.getElementsByTagName("script")[0];script.parentNode.insertBefore(style,script)},2381553,531170);
Bootstrapper.bindDOMParsed(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var floodlight=document.createElement("script");floodlight.src="//www.googletagmanager.com/gtag/js?id\x3dDC-8133184";floodlight.async=true;document.body.appendChild(floodlight);window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","DC-8133184");var page_type=function(){return Bootstrapper.data.resolve("13149")};
var floodlight_category=function(){return Bootstrapper.data.resolve("50169")};var productArr=function(){return Bootstrapper.data.resolve("44595")};productArr=productArr.call();var products=[];for(var i=0;i<productArr.length;i++){products[i]={};products[i].id=productArr[i].productId;products[i].price=productArr[i].price;products[i].quantity=productArr[i].orderQuantity}if(page_type.call()=="order confirmation")gtag("event","purchase",{"allow_custom_scripts":true,"send_to":"DC-8133184/sales0/"+floodlight_category.call()+
"+"+"items_sold","transaction_id":Bootstrapper.data.resolve("10921"),"value":Bootstrapper.data.resolve("14630"),"quantity":Bootstrapper.data.resolve("52538"),"items":products,"country":Bootstrapper.data.resolve("13145"),"language":"en"})},2368660,517347);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var site=rs.web.digitalData.store;var env=Bootstrapper.data.resolve("52149");if(site=="cn")return"94PUV-GH6RF-TE2Y6-EDBYT-GE5LZ";else if(env=="Production")return"3BX8K-35WY6-3F5UV-JX8Z7-DCJ3E";else return"3BX8K-35WY6-3F5UV-JX8Z7-DCJ3E"},transform:function(val){return val?val:""},
load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Akamai mPulse - API Key",collection:"All Pages",source:"Manage",priv:"false"},{id:"52145"})},52145)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function sendRecommendationViewToAA(moduleArr){var aaArr=formatRecItems(moduleArr,"event57\x3d1");dmpgTools.sendDataToAA(window.s,"link","o","Recommendation View",{},{},{"event6":[],"event57":[]},aaArr)}function sendRecommendationClick(moduleArr){var aaArr=formatRecItems(moduleArr,"event58\x3d1");dmpgTools.sendDataToAA(window.s,"link","o","Recommendation Click",{},{},{"event58":[]},
aaArr)}function cleanseStr(str){var charsToRemove=[/[^\w\s]/gi];for(var x=0;x<charsToRemove.length;x++)str=str.replace(charsToRemove[x],"");return str}function formatRecItems(moduleArr,merchEvent){var aaArr=[];var aaStr=";";var merchStr="";var merchArr=[];for(i=0;i<moduleArr.length;i++){merchArr=[];merchArr.push(merchStr.concat("eVar83\x3d",moduleArr[i].position));merchArr.push(merchStr.concat("eVar85\x3d",cleanseStr(moduleArr[i].name)));merchArr.push(merchStr.concat("eVar84\x3d",moduleArr[i].modulePlacement));
merchArr.push(merchStr.concat("eVar82\x3d",moduleArr[i].moduleName,".",moduleArr[i].modulePlacement,".",moduleArr[i].position));aaArr.push(aaStr.concat(moduleArr[i].id,";;;",merchEvent,";",merchArr.join("|")))}return aaArr}var dmpgTools={doesObjExist:function(variables){return typeof variables!="undefined"&&variables!==""?true:false},listenToEvent:function(arr,callback){arr.push=function(){for(i=0;i<arguments.length;i++){Array.prototype.push.call(arr,arguments[i]);callback(arr[arr.length-1])}}},sendVars:function(s,
obj){var propEvarObj=obj;for(var propEVars in propEvarObj){var propEvarValue=propEvarObj[propEVars];s[propEVars]=propEvarValue}},sendProducts:function(s,productsArr){s["products"]=productsArr.join(",")},linkTrackObj:function(s,arr){var linkTrackVarsArr=[];for(i=0;i<arr.length;i++){var obj=arr[i];for(var vars in obj)linkTrackVarsArr.push(vars)}linkTrackVarsArr.push("products");s["linkTrackVars"]=linkTrackVarsArr.join(",")},linkTrackEvents:function(s,obj){var linkTrackEventsArr=[];for(var event in obj)linkTrackEventsArr.push(event);
s["linkTrackEvents"]=linkTrackEventsArr.join(",")},getEvents:function(s,obj){var eventObj=obj;var eventArr=[];for(var event in eventObj){var eventValue=eventObj[event];if(Array.isArray(eventValue))if(eventValue.length>1&&eventValue[0]=="numeric"){eventValue=eventValue[1];eventArr.push(event.concat("\x3d",eventValue))}else{if(eventValue.length==1||eventValue.length===0){eventValue=event;eventArr.push(event)}}else{eventValue=event;eventArr.push(eventValue)}}return eventArr},sendDataToAA:function(s,
callType,linkType,linkName,propObj,evarObj,eventObj,productsArr){if(typeof s!="undefined"&&window[s]!="undefined"){var events=typeof dmpgTools.getEvents(s,eventObj)!="undefined"&&dmpgTools.getEvents(s,eventObj).length>0?dmpgTools.getEvents(s,eventObj):"";dmpgTools.sendVars(s,propObj);dmpgTools.sendVars(s,evarObj);dmpgTools.sendProducts(s,productsArr);if(events!=="")s["events"]=events.join(",");if(callType=="link"&&typeof linkType!="undefined"){dmpgTools.linkTrackObj(s,[evarObj,propObj]);dmpgTools.linkTrackEvents(s,
eventObj);s.tl(this,linkType,linkName)}else if(callType=="view")s.t()}},initialiseDatalayer:function(objName){window[objName]=window[objName]||{};window[objName].events=window[objName].events||[];window[objName].modules=window[objName].modules||[];window[objName].assets=window[objName].assets||{};window[objName].assets.products=window[objName].assets.products||[]},processEvents:function(obj){if(typeof window[obj]!="undefined"&&typeof window[obj].events!="undefined")for(var i=0;i<window[obj].events.length;i++){var currentEventObj=
window[obj].events[i];dmpgTools.checkFellowObjectsProps(currentEventObj)}dmpgTools.listenToEvent(window[obj].events,dmpgTools.checkEventName)},checkEventName:function(eventObj){console.log("Event Has Occured In The DataLayer");if(dmpgTools.doesObjExist(eventObj)&&dmpgTools.doesObjExist(eventObj.eventName))switch(eventObj.eventName){case "module.load.auto.dataLayer.load":dmpgTools.checkFellowObjectsProps(eventObj);break;case "module_item.interact.auto.view":var myRecView=dmpgTools.sitchModuleItemsData(window.rsdl.modules,
eventObj.moduleItem,"Recommendation",window.rsdl.assets.products);sendRecommendationViewToAA(myRecView);break;case "module_item.interact.manual.click":var myRecItems=[eventObj.moduleItem];var myRecClickItems=dmpgTools.sitchModuleItemsData(window.rsdl.modules,myRecItems,"Recommendation",window.rsdl.assets.products);sendRecommendationClick(myRecClickItems);break}},checkFellowObjectsProps:function(eventObj){if(dmpgTools.doesObjExist(eventObj.module))if(window.rsdl.modules.length>0){var isModuleInModules=
false;for(i=0;i<window.rsdl.modules.length;i++){var currentModule=window.rsdl.modules[i];if(currentModule.id==eventObj.module.id)isModuleInModules=true}if(isModuleInModules==false)window.rsdl.modules.push(eventObj.module)}else window.rsdl.modules.push(eventObj.module);if(dmpgTools.doesObjExist(eventObj.assets))if(dmpgTools.doesObjExist(eventObj.assets.products))for(var i=0;i<eventObj.assets.products.length;i++){var currentAssetsProdIndx=eventObj.assets.products[i];window.rsdl.assets.products.push(currentAssetsProdIndx)}},
sitchModuleItemsData:function(moduleObj,moduleItemObj,moduleType,assetsProp){var modules=moduleObj;var myItems=moduleItemObj;var finalArr=[];for(i=0;i<modules.length;i++){var currentModule=modules[i];if(currentModule.type==moduleType)for(y=0;y<myItems.length;y++){var currentItemObj=myItems[y];if(currentModule.id==currentItemObj.moduleId)for(z=0;z<currentModule.items.length;z++){var mainModuleItem=currentModule.items[z];if(mainModuleItem.id==currentItemObj.id)if(typeof assetsProp=="undefined")finalArr.push({"id":mainModuleItem.id,
"moduleId":currentModule.id,"modulePlacement":currentModule.placement,"moduleName":currentModule.name,"moduleType":currentModule.type,"position":mainModuleItem.position,"type":mainModuleItem.type});else for(x=0;x<assetsProp.length;x++)if(currentItemObj.id==assetsProp[x].id)finalArr.push({"id":mainModuleItem.id,"name":assetsProp[x].name,"position":mainModuleItem.position,"type":mainModuleItem.type,"moduleId":currentModule.id,"modulePlacement":currentModule.placement,"moduleName":currentModule.name,
"moduleType":currentModule.type})}}}return finalArr}};dmpgTools.initialiseDatalayer("rsdl");dmpgTools.processEvents("rsdl")},2382687,509528);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var products=window.rs.web.digitalData.products;var stringArray=[];for(var i=0;i<products.length;i++)stringArray.push(products[i].price);var productString=stringArray.join(",");return productString}catch(e){return"error"}},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Product Prices",collection:"E-Commerce",source:"Manage",priv:"false"},{id:"49505"})},49505)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var products=window.rs.web.digitalData.products;var stringArray=[];for(var i=0;i<products.length;i++)stringArray.push(products[i].orderQuantity);var productString=stringArray.join(",");return productString}catch(e){return"error"}},transform:function(val){return val?val:""},load:"page",
trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Product Quantities",collection:"E-Commerce",source:"Manage",priv:"false"},{id:"49503"})},49503)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.location.hostname&&(window.location.hostname.match(/^\w{2,5}\.rs-online\.com$/)||window.location.hostname.match(/rs-components\.cn$/)||window.location.hostname.match(/rsonline\.cn$/)))return"Production";else return"Development"},transform:function(val){return val?val:""},
load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Environment",collection:"All Pages",source:"Manage",priv:"false"},{id:"52149"})},52149)},-1,-1);